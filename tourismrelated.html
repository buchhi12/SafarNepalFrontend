<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SafarNepal</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Inter', sans-serif; }
    body { background: #f9f9f9; color: #333; scroll-behavior: smooth; }

    header { position: fixed; width: 100%; top: 0; left: 0; display: flex; justify-content: space-between; align-items: center; padding: 20px 50px; background: rgba(25, 79, 26, 0.85); backdrop-filter: blur(10px); color: #fff; z-index: 1000; transition: 0.3s; }
    header h1 { font-family: 'Playfair Display', serif; font-size: 28px; font-weight: 700; }
    nav a { color: white; text-decoration: none; margin: 0 15px; font-weight: 600; transition: 0.3s; position: relative; }
    nav a::after { content: ''; position: absolute; width: 0%; height: 2px; background: #ffcc00; left: 0; bottom: -4px; transition: 0.3s; }
    nav a:hover::after { width: 100%; }
    .btn { background: #ff9900; color: white; padding: 10px 20px; border-radius: 8px; text-decoration: none; font-weight: 600; transition: 0.3s; }
    .btn:hover { background: #e68a00; }

    .social-icons a { color: white; margin-left: 15px; transition: 0.3s; }
    .social-icons a:hover { color: #ffcc00; }

    .hero { height: 90vh; background: url('hero-nepal.jpg') center/cover no-repeat; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; color: #fff; text-shadow: 2px 2px 10px rgba(0,0,0,0.7); position: relative; }
    .hero::after { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to bottom, rgba(25,79,26,0.6), rgba(0,0,0,0.6)); z-index: 0; }
    .hero h1 { font-family: 'Playfair Display', serif; font-size: 48px; margin-bottom: 15px; z-index: 1; }
    .hero p { font-size: 20px; margin-bottom: 25px; z-index: 1; }
    .hero .hero-btns { z-index: 1; display: flex; gap: 15px; }
    .hero .hero-btns .btn { font-size: 16px; }
    .scroll-down { position: absolute; bottom: 20px; font-size: 24px; animation: bounce 2s infinite; cursor: pointer; z-index: 1; }
    @keyframes bounce { 0%, 20%, 50%, 80%, 100% { transform: translateY(0); } 40% { transform: translateY(-10px); } 60% { transform: translateY(-5px); } }

    .section { padding: 80px 50px; text-align: center; }
    .section h2 { font-size: 36px; margin-bottom: 40px; color: #0072ff; }

    .grid { display: flex; flex-wrap: wrap; gap: 25px; justify-content: center; }
    .card { background: #fff; border-radius: 16px; box-shadow: 0 8px 20px rgba(0,0,0,0.1); overflow: hidden; width: 300px; transition: transform 0.3s, box-shadow 0.3s; display: flex; flex-direction: column; }
    .card:hover { transform: translateY(-10px); box-shadow: 0 12px 25px rgba(0,0,0,0.2); }
    .card img { width: 100%; height: 200px; object-fit: cover; display: block; }
    .card h3 { padding: 15px; color: #0072ff; font-size: 20px; }
    .card p { padding: 0 15px 15px; color: #555; font-size: 14px; line-height: 1.5; flex-grow: 1; }
    .card a.btn { margin: 0 15px 15px; display: inline-block; text-align: center; }

    .about { display: flex; flex-wrap: wrap; align-items: center; justify-content: center; gap: 40px; margin-top: 40px; }
    .about-text { max-width: 800px; text-align: center; }
    .about-text h3 { font-size: 32px; margin-bottom: 20px; color: #0072ff; }
    .about-text p { font-size: 16px; line-height: 1.8; color: #555; margin-bottom: 30px; text-align: left; }
    .about-text .features { display: flex; gap: 15px; flex-wrap: wrap; }
    .features div { background: #ffcc00; padding: 12px 15px; border-radius: 10px; font-weight: 600; color: #194f1a; }
    .about img { width: 38%; max-width: 600px; height: auto; border-radius: 10px; }

    .contact-info { background: #194f1a; color: #fff; padding: 50px 20px; text-align: center; margin-top: 40px; border-radius: 12px; }
    .contact-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 40px; }
    .contact-item { flex: 1 1 200px; min-width: 200px; }
    .contact-item h4 { font-size: 18px; margin-bottom: 10px; color: #ffcc00; }
    .contact-item p { font-size: 16px; color: #fff; margin-bottom: 10px; }
    .social-logos a { color: #fff; margin: 0 10px; font-size: 20px; transition: 0.3s; }
    .social-logos a:hover { color: #ffcc00; }
    .payment-logos img { width: 80px; margin: 0 10px; vertical-align: middle; border-radius: 8px; background: #fff; padding: 5px; }

    footer { background: #2e6a3b; color: white; text-align: center; padding: 40px 20px; margin-top: 40px; font-size: 16px; }

    @media (max-width: 768px) {
      header { padding: 15px 25px; }
      .hero h1 { font-size: 36px; }
      .hero p { font-size: 16px; }
      .about { flex-direction: column; }
      .about img { width: 100%; max-width: 350px; }
    }

    .logo { display: flex; align-items: center; gap: 12px; }
    .logo img { height: 45px; width: auto; border-radius: 6px; }
    .logo span { font-family: 'Playfair Display', serif; font-size: 26px; font-weight: 700; color: #fff; }

.review-card {
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.1);
  overflow: hidden;
  width: 280px;
  padding: 15px;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 10px;
}

.review-card img {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  object-fit: cover;
}

.review-card .reviewer {
  font-weight: 600;
  font-size: 16px;
  color: #0072ff;
}

.review-card .review-text {
  font-size: 14px;
  color: #555;
  line-height: 1.5;
}

.review-card .review-rating {
  color: #ffcc00;
}


  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="logo">
      <img src="logo.png" alt="SafarNepal Logo" />
      <span>SafarNepal</span>
    </div>
    <nav>
      <a href="#home">Home</a>
      <a href="#about">About</a>
      <a href="#destinations">Destinations</a>
      <a href="#packages">Packages</a>
      <a href="#contact">Contact us</a>
      <a href="#packages" class="btn" id="book-now-btn">Book Now</a>
    </nav>
    <div class="social-icons">
      <a href="#"><i class="fab fa-facebook-f"></i></a>
      <a href="#"><i class="fab fa-instagram"></i></a>
      <a href="#"><i class="fab fa-whatsapp"></i></a>
    </div>
  </header>
  

  <!-- Hero Section -->
  <section class="hero" id="home">
    <h1>Explore the Beauty of Nepal</h1>
    <p>Discover breathtaking mountains, lakes, and culture with SafarNepal</p>
    <div class="hero-btns">
      <a href="#packages" class="btn">Book Now</a>
      <a href="#packages" class="btn">Explore Tours</a>
    </div>
    <div class="scroll-down"><i class="fas fa-chevron-down"></i></div>
  </section>

  <!-- Popular Destinations -->
  <section class="section" id="destinations">
    <h2>Popular Destinations</h2>
    <div class="grid">
      <div class="card">
        <img src="https://res.cloudinary.com/dwmiuoizh/image/upload/v1761449708/kathmandu_gb71tt.jpg" alt="Kathmandu City">
        <h3>Kathmandu</h3>
        <p>The capital city, rich in culture and history.</p>
      </div>
      <div class="card">
        <img src="https://res.cloudinary.com/dwmiuoizh/image/upload/v1761448834/pokhara_pbhhpx.jpg" alt="Pokhara Lake">
        <h3>Pokhara</h3>
        <p>Beautiful lakes and gateway to the Annapurna region.</p>
      </div>
      <div class="card">
        <img src="https://res.cloudinary.com/dwmiuoizh/image/upload/v1761448799/chitwan_deuvmw.jpg" alt="Chitwan Jungle">
        <h3>Chitwan</h3>
        <p>Home to wildlife safaris and natural beauty.</p>
      </div>
      <div class="card">
        <img src="https://res.cloudinary.com/dwmiuoizh/image/upload/v1761398487/everest_x3uru1.jpg" alt="Mount Everest">
        <h3>Everest</h3>
        <p>Majestic peaks and trekking adventures.</p>
      </div>
      <div class="card">
        <img src="https://res.cloudinary.com/dwmiuoizh/image/upload/v1761449741/palpa_kxyjsj.webp" alt="palpa">
        <h3>Palpa</h3>
        <p>To explore an ancient history, beautiful view and palaces.</p>
      </div>
    </div>
  </section>
<!--package-->
 
  
  <section class="section" id="packages">
    <h2>Our Tour Packages</h2>
    
      <div class="grid" id="packages-grid">
       
    </div>
  </section>

  <!-- About Section -->
  <section class="section about" id="about">
    <div class="about-text">
      <h3>Why To Explore Nepal?</h3>
      <p><i> Trek, explore, and discover the hidden gems of the Himalayas with SafarNepal.
      Nepal is a land of breathtaking mountains, including the majestic Mount Everest and the Himalayas, offering stunning views for trekkers, climbers, and photographers.
      The country is rich in cultural heritage, with ancient temples, vibrant festivals, and a deep sense of history and spirituality. Adventure seekers can enjoy trekking, mountaineering, paragliding, white-water rafting, bungee jumping, and jungle safaris.
      Nepal also boasts diverse landscapesâ€”from lush Terai jungles in Chitwan and Bardia to serene lakes in Pokhara and the deserts of Mustang. Visitors are welcomed by the warm hospitality of the Nepalese people, making every journey safe and memorable.
      Safar Nepal is one of the leading inbound tour specialists & Destination Management Company based in Central Kathmandu, Nepal. We specialize in providing customized tour packages and adventure treks, handling arrangements for individuals, couples, families, and group tours in Nepal.</i></p>
      <div class="features">
        <div>Adventure</div>
        <div>Culture</div>
        <div>Mountains</div>
        <div>Nature</div>
        <div>Hospitality</div>
      </div>
    </div>
  </section>
  
<!-- Latest Reviews Section -->
<section class="section" id="reviews">
  <h2>What Our Customers Say</h2>
  <div class="grid" id="reviews-grid">
    <!-- Reviews will be dynamically loaded here -->
  </div>
</section>




  <!-- Contact -->
  <section class="contact-info" id="contact">
    <div class="contact-container">
      <div class="contact-item">
        <h4>Contact Number</h4>
        <p>+977 9824263243</p>
        <p>+977 9845208690</p>
      </div>
      <div class="contact-item">
        <h4>Email</h4>
        <p>safarnepal12@gmail.com</p>
        <p>safarnepalofficial@gmail.com</p>
      </div>
      <div class="contact-item">
        <h4>Follow Us</h4>
        <div class="social-logos">
          <a href="#"><i class="fab fa-facebook-f"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-whatsapp"></i></a>
        </div>
      </div>
      <div class="contact-item">
        <h4>Payments Accepted</h4>
        <div class="payment-logos">
          <img src="esewa.png" alt="eSewa" title="eSewa">
          <img src="banktransfer.png" alt="Bank Transfer" title="Bank Transfer">
          <img src="ebitcard.jpg"alt="Debit Card" title="Debit Card">
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    &copy; 2025 SafarNepal. All Rights Reserved.
  </footer>

  <!-- Scripts -->
<script>
  const navbar = document.querySelector('header nav');
  const bookBtn = document.getElementById('book-now-btn');

  function setupNavbar() {
    // âœ… Use sessionStorage instead of localStorage
    const token = sessionStorage.getItem('token'); 
    const role = sessionStorage.getItem('role'); 

    // Remove previous profile/login button if any
    const existingBtn = document.querySelector('.profile-icon, .login-signup-btn');
    if(existingBtn) existingBtn.remove();

    if(token && role) {
      // Logged in: Show user image icon
      const profile = document.createElement('img');
      profile.src = 'user.jpeg'; // make sure user.jpg is in the same folder
      profile.className = 'profile-icon';
      profile.style.cursor = 'pointer';
      profile.style.height = '35px';
      profile.style.width = '35px';
      profile.style.borderRadius = '50%';
      profile.style.marginLeft = '15px';
      profile.title = 'Dashboard';
      profile.onclick = () => {
        if(role === 'user') window.location.href = 'user-dashboard.html';
        else if(role === 'admin') window.location.href = 'admin.html';
      }
      navbar.appendChild(profile);


    } else {
      // Not logged in: show Login / Sign Up button
      const loginBtn = document.createElement('a');
      loginBtn.href = 'login.html';
      loginBtn.className = 'btn login-signup-btn';
      loginBtn.innerText = 'Login / Sign Up';
      navbar.appendChild(loginBtn);

    
    }
  }
  async function fetchPackages() {
    try {
      const response = await fetch('http://localhost:3000/api/package'); // replace with your backend URL
      const packages = await response.json();

      const grid = document.getElementById('packages-grid');
      grid.innerHTML = ''; // clear any placeholder cards

      packages.forEach(pkg => {
        const card = document.createElement('div');
        card.className = 'card';

        card.innerHTML = `
          <img src="${pkg.image}" alt="${pkg.name}">
          <h3>${pkg.name}</h3>
          <p>${pkg.description}</p>
          <a href="packages.details.html?id=${pkg._id}" class="btn">View Details</a>
        `;
        grid.appendChild(card);
      });

    } catch (error) {
      console.error('Error fetching packages:', error);
      const grid = document.getElementById('packages-grid');
      grid.innerHTML = '<p>Failed to load packages. Please try again later.</p>';
    }
  }
  document.addEventListener('DOMContentLoaded', fetchPackages);

  async function fetchReviews() {
  try {
    const response = await fetch('http://localhost:3000/api/reviews/latest'); // replace with your backend URL
    const reviews = await response.json();

    const grid = document.getElementById('reviews-grid');
    grid.innerHTML = ''; // clear any placeholder

   reviews.slice(0, 4).forEach(review => { // show latest 6 reviews
  const card = document.createElement('div');
  card.className = 'review-card';

  const userName = review.user?.name || 'Anonymous';
  const userImage = review.user?.image || 'user.jpeg';

  card.innerHTML = `
    <img src="${userImage}" alt="${userName}">
    <div class="reviewer">${userName}</div>
    <div class="review-rating">${'â˜…'.repeat(review.rating)}${'â˜†'.repeat(5 - review.rating)}</div>
    <div class="review-text">${review.comment}</div>
  `;

  grid.appendChild(card);
});


  } catch (error) {
    console.error('Error fetching reviews:', error);
    const grid = document.getElementById('reviews-grid');
    grid.innerHTML = '<p>Failed to load reviews. Please try again later.</p>';
  }
}

document.addEventListener('DOMContentLoaded', fetchReviews);


  //document.addEventListener('DOMContentLoaded', fetchPackages);

  document.addEventListener('DOMContentLoaded', setupNavbar);
</script>



</body>
</html>
